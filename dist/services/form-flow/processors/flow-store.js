"use strict";var r=Object.defineProperty,x=Object.defineProperties,b=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var p=(s,i,t)=>i in s?r(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t,w=(s,i)=>{for(var t in i||(i={}))c.call(i,t)&&p(s,t,i[t]);if(h)for(var t of h(i))m.call(i,t)&&p(s,t,i[t]);return s},V=(s,i)=>x(s,g(i));var C=(s,i)=>{for(var t in i)r(s,t,{get:i[t],enumerable:!0})},P=(s,i,t,e)=>{if(i&&typeof i=="object"||typeof i=="function")for(let l of S(i))!c.call(s,l)&&l!==t&&r(s,l,{get:()=>i[l],enumerable:!(e=b(i,l))||e.enumerable});return s};var f=s=>P(r({},"__esModule",{value:!0}),s);var A={};C(A,{FlowStore:()=>u});module.exports=f(A);var F=class{constructor({isAValidationView:i,previousStep:t,nextStep:e,doesMeetConditionFields:l,Component:n,index:o,identifier:d,willBePartOfTheFlow:a}){this.index=o,this.identifier=d,this.Component=n,this.isAValidationView=!!i,this.previousStep=t,this.nextStep=e,this.doesMeetConditionFields=l||(()=>!0),this.willBePartOfTheFlow=a||(()=>!0)}};var u=class{constructor(i){this.getHead=()=>this.head;this.getTail=()=>this.tail;this.getNextValidStep=(i,t)=>{var o;let e=(i==null?void 0:i.index)===((o=this.tail)==null?void 0:o.index),l=(i==null?void 0:i.nextStep)||null;if(!i||e||!l)return null;let n=((i==null?void 0:i.index)||0)+1;for(let d=n;d<=this.length;d++){if(l==null?void 0:l.doesMeetConditionFields(t))return l;l=(l==null?void 0:l.nextStep)||null}return null};this.getPreviousValidStep=(i,t)=>{var n;let e=(i==null?void 0:i.index)===((n=this.head)==null?void 0:n.index),l=i==null?void 0:i.previousStep;if(!i||e||!l)return null;for(let o=this.length-1;o>=0;o--){let d=!!(l!=null&&l.doesMeetConditionFields(t)),a=!(l!=null&&l.isAValidationView);if(d&&a)return l;l=(l==null?void 0:l.previousStep)||null}return null};this.getTotalOfValidSteps=(i,t)=>{let e=0,l=0,n=this.getHead();for(let o=0;o<=this.length;o++){let d=!!(n!=null&&n.willBePartOfTheFlow(t)),a=!(n!=null&&n.isAValidationView);(n==null?void 0:n.index)===(i==null?void 0:i.index)&&(e=l),d&&a&&l++,n=(n==null?void 0:n.nextStep)||null}return{numberOfValidSteps:l,currentStepIndex:e}};this.getLastIncompleteStep=i=>{let t=this.head,e=this.head;for(let l=0;l<this.length;l++){let n=!(e!=null&&e.isAValidationView),o=!!(e!=null&&e.doesMeetConditionFields(i)),d=!!(e!=null&&e.willBePartOfTheFlow(i));n&&o&&d&&(t=e),e=(e==null?void 0:e.nextStep)||null}return t};this.getStepByIdentifier=i=>{let t=this.head;for(let e=0;e<this.length;e++){if((t==null?void 0:t.identifier)===i)return t;t=(t==null?void 0:t.nextStep)||null}return null};this.initializeSteps=i=>{for(let[t,e]of i.entries()){let l=new F(V(w({},e),{previousStep:this.tail,nextStep:null,index:t}));this.head===null&&(this.head=l),this.tail!==null&&(this.tail.nextStep=l),this.tail=l,this.length+=1}return this};this.head=null,this.tail=null,this.length=0,this.initializeSteps(i)}};0&&(module.exports={FlowStore});
